<!DOCTYPE html>
<html>
	<head>
	<title>NUMERANDA</title>
	<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
	<script src="https://unpkg.com/jquery.terminal/js/jquery.terminal.min.js"></script>
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
	
	<link rel="stylesheet" href="https://unpkg.com/jquery.terminal/css/jquery.terminal.min.css" />

	<link rel="stylesheet" href="https://jqueryui.com/resources/demos/style.css">
	<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

	<link rel="stylesheet" type="text/css" href="ui/stylesheet.css" />
	</head>
	<body>

	<div id="menu">
		  <ul>
		    <li><a href="#">Link One</a></li>
		    <li><a href="#">Link Two</a>
		      <ul class="dropdown-menu">
		        <li><a href="#">Dropdown Link</a></li>
		        <li><a href="#">Another Dropdown Link</a></li>
		      </ul>
		    </li>
		  </ul>
	</div>
	<div id="toolbar" class="ui-widget-content"></div>

	
	<div id="containerMain" >
		
	</div>
	
	<script>
		$(document).ready(function(){
  $("#menu li").hover(function(){
    $(".dropdown-menu", this).slideDown(100);
  }, function(){
    $(".dropdown-menu", this).stop().slideUp(100);
  });
})
	</script>

	<script>
		
		function createPlotter(parentId){
			$('#' + parentId).html("<h2> Plotte the best </h2>");
		}

		function createEditor(parentId){
			$('#' + parentId).html("<h1> Editor super puper </h1>");
		}

		function createConsole(parentId){
			$('#' + parentId).html("<div style='background-color:black; width: 100%; height:100%; position:absolute;'> <h1>Console super puper </h1><div>");
		}
	</script>

	<script type="module">
		import * as ui from './ui/Master.js';
		window.numeranda = {};
		window.numeranda.ui = ui;
		//ui.init();


		var master = new ui.Master("containerMain");

		//console.log("in html: " + master.container.getBoundingClientRect().height)

	 	var size = document.getElementById("containerMain").getBoundingClientRect();


		var w1 = new ui.Window(master, "editor")

		var w2 = new ui.Window(master, "plot")

		var w3 = new ui.Window(master, "fixed")

		var w4 = new ui.Window(master, "console")
	

		var d1 = new ui.VerticalDragbar(master);
		d1.setPosition({"leftPx":100});

		var d2 = new ui.HorizontalDragbar(master);
		d2.setPosition({"bottomPx":100});

		d1.addLeftWindow(w1);
		d1.addRightWindow(w2);


		d2.addTopWindow(w1);
		d2.addTopWindow(w2);
		d2.addTopWindow(w3);
		d2.addBottomWindow(w4)
		
		var d3 = new ui.VerticalDragbar(master);
		d3.lock();
		d3.setPosition({"rightPx":100});
		d3.addLeftWindow(w2);
		d3.addRightWindow(w3);

		//var wBorder = new ui.Window();
		var dBorder1 = new ui.VerticalDragbar(master);
		dBorder1.setPosition({"%":100});
		dBorder1.addLeftWindow(w3);
		dBorder1.addLeftWindow(w4);
		dBorder1.lock();
		//dBorder.addRightWindow(wBorder);

		var dBorder2 = new ui.HorizontalDragbar(master);
		dBorder2.setPosition({"%":100});
		dBorder2.addTopWindow(w4);

		dBorder2.lock();


		//Safari can run makeLayout() only after the page is loaded
		window.onload = function(){ console.log("........loaded");master.makeLayout();}
		
		master.addMenuOption("Plotter", createPlotter)
		master.addMenuOption("Editor", createEditor)
		master.addMenuOption("Console", createConsole)		
		//master.makeLayout();


	</script>

	
	</body>