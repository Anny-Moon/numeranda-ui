<!DOCTYPE html>
<html>
	<head>
	<title>NUMERANDA</title>
	<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
	<script src="https://unpkg.com/jquery.terminal/js/jquery.terminal.min.js"></script>
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
	
	<link rel="stylesheet" href="https://unpkg.com/jquery.terminal/css/jquery.terminal.min.css" />

	<link rel="stylesheet" href="https://jqueryui.com/resources/demos/style.css">
	<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

	<link rel="stylesheet" type="text/css" href="ui/numeranda-ui.css" />
	</head>
	<body>

	<div id="containerMain" >
		
	</div>
	
	<script>
		$(document).ready(function(){
  $("#menu li").hover(function(){
    $(".dropdown-menu", this).slideDown(100);
  }, function(){
    $(".dropdown-menu", this).stop().slideUp(100);
  });
})
	</script>

	<script>
		
		function createPlotter(parentId){
			$('#' + parentId).html("<h2> Plotte the best </h2>");
			return () => {return true};
		}

		function createEditor(parentId){
			$('#' + parentId).html("<h1> Editor super puper </h1>");
			return () => {return false};
		}

		function createConsole(parentId){
			$('#' + parentId).html("<div style='background-color:black; width: 100%; height:100%; position:absolute;'> <h1>Console super puper </h1><div>");
			return () => {return true};
		}
	</script>

	<script type="module">
		import * as ui from './ui/Master.js';
		window.numeranda = {};
		window.numeranda.ui = ui;
		//ui.init();


		var master = new ui.Master("containerMain");

		//console.log("in html: " + master.container.getBoundingClientRect().height)

	 	var size = document.getElementById("containerMain").getBoundingClientRect();


		var w1 = master.createWindow({id:"editor"});

		var w2 = master.createWindow({id:"plot"});

		var w3 = master.createWindow({id:"fixed", allowSplit:false, showButton: false});

		var w4 = master.createWindow({});
	

		var d1 = master.createDragbar({type: "vertical", left:"100px"})
		var d2 = master.createDragbar({type: "horizontal", bottom:"100px"})

		d1.addLeftWindow(w1);
		d1.addRightWindow(w2);


		d2.addTopWindow([w1, w2, w3]);
		
		d2.addBottomWindow(w4)
		
		var d3 = master.createDragbar({type: "vertical", lock: false, right:"100px"})
	

		d3.addLeftWindow(w2);
		d3.addRightWindow(w3);

		//var wBorder = new ui.Window();
		var dBorder1 = master.createDragbar({type: "vertical", lock: true, left:"100%"})

		dBorder1.addLeftWindow([w3, w4]);

		var dBorder2 = master.createDragbar({type: "horizontal", lock: true, top:"100%"})
		dBorder2.addTopWindow(w4);



		//Safari can run makeLayout() only after the page is loaded
		window.onload = function(){ console.log("........loaded");master.makeLayout();}
		
		master.addMenuOption("Plotter", createPlotter)
		master.addMenuOption("Editor to edit", createEditor)
		master.addMenuOption("Console", createConsole)		
		//master.makeLayout();


	</script>

	
	</body>